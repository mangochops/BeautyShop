exports.id=7423,exports.ids=[7423],exports.modules={86751:(e,r,t)=>{Promise.resolve().then(t.bind(t,8179)),Promise.resolve().then(t.t.bind(t,59607,23))},69380:(e,r,t)=>{Promise.resolve().then(t.bind(t,50983)),Promise.resolve().then(t.t.bind(t,28531,23))},50983:(e,r,t)=>{"use strict";t.d(r,{default:()=>f});var n=t(45512),a=t(58009),i=t(79334),o=t(87021),s=t(25409),l=t(47699),c=t(48859),d=t(97643),u=t(70801);function f({category:e}){let r=(0,i.useRouter)(),[t,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(e?.name||""),[m,y]=(0,a.useState)(e?.slug||""),[h,v]=(0,a.useState)(e?.description||""),[b,x]=(0,a.useState)(e?.image||""),w=async t=>{t.preventDefault(),f(!0);try{let t=e?`/api/admin/categories/${e.id}`:"/api/admin/categories",n=e?"PUT":"POST",a=await fetch(t,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p,slug:m,description:h,image:b})});if(!a.ok){let e=await a.json();throw Error(e.error||"Something went wrong")}(0,u.oR)({title:e?"Category updated":"Category created",description:`${p} has been ${e?"updated":"created"} successfully.`}),r.push("/admin/categories"),r.refresh()}catch(e){console.error("Error submitting form:",e),(0,u.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to save category",variant:"destructive"})}finally{f(!1)}};return(0,n.jsxs)("form",{onSubmit:w,children:[(0,n.jsxs)(d.Zp,{children:[(0,n.jsxs)(d.aR,{children:[(0,n.jsx)(d.ZB,{children:"Category Information"}),(0,n.jsx)(d.BT,{children:"Create or update a product category"})]}),(0,n.jsxs)(d.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.J,{htmlFor:"name",children:"Category Name"}),(0,n.jsx)(s.p,{id:"name",value:p,onChange:r=>{let t=r.target.value;g(t),e&&m!==e.slug||y(t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))},required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.J,{htmlFor:"slug",children:"Slug"}),(0,n.jsx)(s.p,{id:"slug",value:m,onChange:e=>y(e.target.value),required:!0}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Used in URLs: /products?category=",m]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.J,{htmlFor:"description",children:"Description (Optional)"}),(0,n.jsx)(c.T,{id:"description",rows:3,value:h,onChange:e=>v(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.J,{htmlFor:"image",children:"Image URL"}),(0,n.jsx)(s.p,{id:"image",value:b,onChange:e=>x(e.target.value),placeholder:"https://example.com/image.jpg"}),b&&(0,n.jsx)("div",{className:"mt-2 aspect-[4/3] w-full max-w-sm rounded-md border overflow-hidden",children:(0,n.jsx)("img",{src:b||"/placeholder.svg",alt:p,className:"h-full w-full object-cover"})})]})]})]}),(0,n.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[(0,n.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>r.push("/admin/categories"),children:"Cancel"}),(0,n.jsx)(o.$,{type:"submit",disabled:t,children:t?"Saving...":e?"Update Category":"Create Category"})]})]})}},97643:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>s,wL:()=>u});var n=t(45512),a=t(58009),i=t(59462);let o=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));o.displayName="Card";let s=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));s.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let c=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent";let u=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},47699:(e,r,t)=>{"use strict";t.d(r,{J:()=>c});var n=t(45512),a=t(58009),i=t(92405),o=t(21643),s=t(59462);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)(i.b,{ref:t,className:(0,s.cn)(l(),e),...r}));c.displayName=i.b.displayName},48859:(e,r,t)=>{"use strict";t.d(r,{T:()=>o});var n=t(45512),a=t(58009),i=t(59462);let o=a.forwardRef(({className:e,...r},t)=>(0,n.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));o.displayName="Textarea"},8179:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});let n=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/BeautyShop/components/admin/category-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/BeautyShop/components/admin/category-form.tsx","default")},88977:(e,r,t)=>{"use strict";Object.defineProperty(r,"A",{enumerable:!0,get:function(){return n.registerServerReference}});let n=t(46760)},54175:(e,r,t)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{arrayBufferToString:function(){return s},decrypt:function(){return d},encrypt:function(){return c},getActionEncryptionKey:function(){return m},getClientReferenceManifestForRsc:function(){return g},getServerModuleMap:function(){return p},setReferenceManifestsSingleton:function(){return f},stringToUint8Array:function(){return l}});let a=t(39212),i=t(62045),o=t(29294);function s(e){let r=new Uint8Array(e),t=r.byteLength;if(t<65535)return String.fromCharCode.apply(null,r);let n="";for(let e=0;e<t;e++)n+=String.fromCharCode(r[e]);return n}function l(e){let r=e.length,t=new Uint8Array(r);for(let n=0;n<r;n++)t[n]=e.charCodeAt(n);return t}function c(e,r,t){return crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,t)}function d(e,r,t){return crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,t)}let u=Symbol.for("next.server.action-manifests");function f({page:e,clientReferenceManifest:r,serverActionsManifest:t,serverModuleMap:n}){var a;let o=null==(a=globalThis[u])?void 0:a.clientReferenceManifestsPerPage;globalThis[u]={clientReferenceManifestsPerPage:{...o,[(0,i.normalizeAppPath)(e)]:r},serverActionsManifest:t,serverModuleMap:n}}function p(){let e=globalThis[u];if(!e)throw new a.InvariantError("Missing manifest for Server Actions.");return e.serverModuleMap}function g(){let e=globalThis[u];if(!e)throw new a.InvariantError("Missing manifest for Server Actions.");let{clientReferenceManifestsPerPage:r}=e,t=o.workAsyncStorage.getStore();if(!t)return function(e){let r=Object.values(e),t={clientModules:{},edgeRscModuleMapping:{},rscModuleMapping:{}};for(let e of r)t.clientModules={...t.clientModules,...e.clientModules},t.edgeRscModuleMapping={...t.edgeRscModuleMapping,...e.edgeRscModuleMapping},t.rscModuleMapping={...t.rscModuleMapping,...e.rscModuleMapping};return t}(r);let n=r[t.route];if(!n)throw new a.InvariantError(`Missing Client Reference Manifest for ${t.route}.`);return n}async function m(){if(n)return n;let e=globalThis[u];if(!e)throw new a.InvariantError("Missing manifest for Server Actions.");let r=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===r)throw new a.InvariantError("Missing encryption key for Server Actions");return n=await crypto.subtle.importKey("raw",l(atob(r)),"AES-GCM",!0,["encrypt","decrypt"])}},98063:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{decryptActionBoundArgs:function(){return p},encryptActionBoundArgs:function(){return f}}),t(27315);let n=t(46760),a=t(8534),i=t(57212),o=t(54175),s=t(63033),l=new TextEncoder,c=new TextDecoder;async function d(e,r){let t=await (0,o.getActionEncryptionKey)();if(void 0===t)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=atob(r),a=n.slice(0,16),i=n.slice(16),s=c.decode(await (0,o.decrypt)(t,(0,o.stringToUint8Array)(a),(0,o.stringToUint8Array)(i)));if(!s.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return s.slice(e.length)}async function u(e,r){let t=await (0,o.getActionEncryptionKey)();if(void 0===t)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=new Uint8Array(16);s.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(n));let a=(0,o.arrayBufferToString)(n.buffer),i=await (0,o.encrypt)(t,n,l.encode(e+r));return btoa(a+(0,o.arrayBufferToString)(i))}async function f(e,r){let{clientModules:t}=(0,o.getClientReferenceManifestForRsc)(),a=Error();Error.captureStackTrace(a,f);let l=!1,c=await (0,i.streamToString)((0,n.renderToReadableStream)(r,t,{onError(e){l||(l=!0,a.message=e instanceof Error?e.message:String(e))}}));if(l)throw a;let d=s.workUnitAsyncStorage.getStore();if(!d)return u(e,c);let p=(0,s.getPrerenderResumeDataCache)(d),g=(0,s.getRenderResumeDataCache)(d),m=e+c,y=(null==p?void 0:p.encryptedBoundArgs.get(m))??(null==g?void 0:g.encryptedBoundArgs.get(m));if(y)return y;let h="prerender"===d.type?d.cacheSignal:void 0;null==h||h.beginRead();let v=await u(e,c);return null==h||h.endRead(),null==p||p.encryptedBoundArgs.set(m,v),v}async function p(e,r){let{edgeRscModuleMapping:t,rscModuleMapping:n}=(0,o.getClientReferenceManifestForRsc)(),i=await d(e,await r);return await (0,a.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(l.encode(i)),e.close()}}),{serverConsumerManifest:{moduleLoading:null,moduleMap:n,serverModuleMap:(0,o.getServerModuleMap)()}})}},50164:(e,r)=>{"use strict";function t(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureLeadingSlash",{enumerable:!0,get:function(){return t}})},62045:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{normalizeAppPath:function(){return i},normalizeRscURL:function(){return o}});let n=t(50164),a=t(18758);function i(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,r,t,n)=>!r||(0,a.isGroupSegment)(r)||"@"===r[0]||("page"===r||"route"===r)&&t===n.length-1?e:e+"/"+r,""))}function o(e){return e.replace(/\.rsc($|\?)/,"$1")}}};