(()=>{var e={};e.id=7575,e.ids=[7575],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},64300:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>o,routeModule:()=>u,tree:()=>d});var t=r(70260),n=r(28203),a=r(25155),i=r.n(a),l=r(67292),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);r.d(s,c);let d=["",{children:["admin",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,26439)),"/workspaces/BeautyShop/app/admin/products/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,78988)),"/workspaces/BeautyShop/app/admin/products/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,54899)),"/workspaces/BeautyShop/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,10375)),"/workspaces/BeautyShop/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],o=["/workspaces/BeautyShop/app/admin/products/page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/products/page",pathname:"/admin/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},83690:(e,s,r)=>{Promise.resolve().then(r.bind(r,23184)),Promise.resolve().then(r.bind(r,93260)),Promise.resolve().then(r.bind(r,30681)),Promise.resolve().then(r.t.bind(r,59607,23))},46738:(e,s,r)=>{Promise.resolve().then(r.bind(r,60644)),Promise.resolve().then(r.bind(r,12952)),Promise.resolve().then(r.bind(r,54069)),Promise.resolve().then(r.t.bind(r,28531,23))},60644:(e,s,r)=>{"use strict";r.d(s,{default:()=>d});var t=r(45512),n=r(58009),a=r(79334),i=r(87021),l=r(10203),c=r(23396);function d({id:e,children:s}){let r=(0,a.useRouter)(),[d,o]=(0,n.useState)(!1),[h,u]=(0,n.useState)(!1),x=async()=>{u(!0);try{await (0,c.DD)(e),o(!1),r.refresh()}catch(e){console.error("Failed to delete product:",e)}finally{u(!1)}};return(0,t.jsxs)(l.Lt,{open:d,onOpenChange:o,children:[(0,t.jsx)(l.tv,{asChild:!0,children:(0,t.jsx)(i.$,{variant:"ghost",className:"w-full justify-start",children:s})}),(0,t.jsxs)(l.EO,{children:[(0,t.jsxs)(l.wd,{children:[(0,t.jsx)(l.r7,{children:"Are you sure?"}),(0,t.jsx)(l.$v,{children:"This action cannot be undone. This will permanently delete the product from the database."})]}),(0,t.jsxs)(l.ck,{children:[(0,t.jsx)(l.Zr,{children:"Cancel"}),(0,t.jsx)(l.Rx,{onClick:e=>{e.preventDefault(),x()},className:"bg-red-600 hover:bg-red-700",disabled:h,children:h?"Deleting...":"Delete"})]})]})]})}},78988:(e,s,r)=>{"use strict";function t(){return null}r.r(s),r.d(s,{default:()=>t})},26439:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>y});var t=r(62740),n=r(59607),a=r.n(n),i=r(58057),l=r(97717),c=r(63087),d=r(22525),o=r(79458),h=r(92400),u=r(34684),x=r(47755),p=r(38537),m=r(73205),j=r(39909),f=r(52216),v=r(93260),g=r(30681),b=r(85387),w=r(23184);async function y({searchParams:e}){let s=[...await (0,b.getProducts)()];if(e.q){let r=e.q.toLowerCase();s=s.filter(e=>e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r))}if(e.category&&"all"!==e.category&&(s=s.filter(s=>s.category===e.category)),e.sort)switch(e.sort){case"name-asc":s.sort((e,s)=>e.name.localeCompare(s.name));break;case"name-desc":s.sort((e,s)=>s.name.localeCompare(e.name));break;case"price-asc":s.sort((e,s)=>e.price-s.price);break;case"price-desc":s.sort((e,s)=>s.price-e.price)}return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Products"}),(0,t.jsx)(a(),{href:"/admin/products/new",children:(0,t.jsxs)(p.$,{children:[(0,t.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Add Product"]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(l.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),(0,t.jsx)(m.p,{placeholder:"Search products...",className:"pl-8",defaultValue:e.q||""})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(g.Select,{defaultValue:e.category||"all",children:[(0,t.jsx)(g.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(g.SelectValue,{placeholder:"Category"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Categories"}),(0,t.jsx)(g.SelectItem,{value:"skincare",children:"Skincare"}),(0,t.jsx)(g.SelectItem,{value:"makeup",children:"Makeup"}),(0,t.jsx)(g.SelectItem,{value:"haircare",children:"Haircare"}),(0,t.jsx)(g.SelectItem,{value:"fragrance",children:"Fragrance"}),(0,t.jsx)(g.SelectItem,{value:"bath-body",children:"Bath & Body"}),(0,t.jsx)(g.SelectItem,{value:"tools",children:"Tools"})]})]}),(0,t.jsxs)(g.Select,{defaultValue:e.sort||"name-asc",children:[(0,t.jsx)(g.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(g.SelectValue,{placeholder:"Sort by"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"name-asc",children:"Name (A-Z)"}),(0,t.jsx)(g.SelectItem,{value:"name-desc",children:"Name (Z-A)"}),(0,t.jsx)(g.SelectItem,{value:"price-asc",children:"Price (Low to High)"}),(0,t.jsx)(g.SelectItem,{value:"price-desc",children:"Price (High to Low)"})]})]}),(0,t.jsx)(p.$,{variant:"outline",size:"icon",children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})]})]}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(j.XI,{children:[(0,t.jsx)(j.A0,{children:(0,t.jsxs)(j.Hj,{children:[(0,t.jsx)(j.nd,{className:"w-[80px]",children:"Image"}),(0,t.jsx)(j.nd,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Product",(0,t.jsx)(d.A,{className:"h-4 w-4"})]})}),(0,t.jsx)(j.nd,{children:"Category"}),(0,t.jsx)(j.nd,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Price",(0,t.jsx)(d.A,{className:"h-4 w-4"})]})}),(0,t.jsx)(j.nd,{children:"Stock"}),(0,t.jsx)(j.nd,{children:"Featured"}),(0,t.jsx)(j.nd,{className:"text-right",children:"Actions"})]})}),(0,t.jsxs)(j.BF,{children:[s.map(e=>(0,t.jsxs)(j.Hj,{children:[(0,t.jsx)(j.nA,{children:(0,t.jsx)("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden",children:(0,t.jsx)("img",{src:e.image||"/placeholder.svg?height=48&width=48",alt:e.name,className:"h-full w-full object-cover"})})}),(0,t.jsx)(j.nA,{className:"font-medium",children:e.name}),(0,t.jsx)(j.nA,{children:(0,t.jsx)(f.E,{variant:"outline",className:"capitalize",children:e.category})}),(0,t.jsxs)(j.nA,{children:["$",e.price.toFixed(2)]}),(0,t.jsx)(j.nA,{children:(0,t.jsx)(f.E,{className:e.inStock?"bg-green-500":"bg-red-500",children:e.inStock?"In Stock":"Out of Stock"})}),(0,t.jsx)(j.nA,{children:e.featured?(0,t.jsx)(f.E,{className:"bg-yellow-500",children:"Featured"}):(0,t.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,t.jsx)(j.nA,{className:"text-right",children:(0,t.jsxs)(v.DropdownMenu,{children:[(0,t.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(p.$,{variant:"ghost",size:"icon",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,t.jsxs)(v.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(v.DropdownMenuItem,{asChild:!0,children:(0,t.jsxs)(a(),{href:`/products/${e.id}`,children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"View"})]})}),(0,t.jsx)(v.DropdownMenuItem,{asChild:!0,children:(0,t.jsxs)(a(),{href:`/admin/products/${e.id}/edit`,children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Edit"})]})}),(0,t.jsx)(v.DropdownMenuItem,{asChild:!0,children:(0,t.jsxs)(w.default,{id:e.id,children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Delete"})]})})]})]})})]},e.id)),0===s.length&&(0,t.jsx)(j.Hj,{children:(0,t.jsx)(j.nA,{colSpan:7,className:"h-24 text-center",children:"No products found."})})]})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(p.$,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),(0,t.jsx)(p.$,{variant:"outline",size:"sm",className:"bg-pink-600 text-white",children:"1"}),(0,t.jsx)(p.$,{variant:"outline",size:"sm",children:"2"}),(0,t.jsx)(p.$,{variant:"outline",size:"sm",children:"3"}),(0,t.jsx)(p.$,{variant:"outline",size:"sm",children:"Next"})]})]})}},23184:(e,s,r)=>{"use strict";r.d(s,{default:()=>t});let t=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/BeautyShop/components/admin/delete-product-button.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/BeautyShop/components/admin/delete-product-button.tsx","default")},52216:(e,s,r)=>{"use strict";r.d(s,{E:()=>l});var t=r(62740);r(76301);var n=r(67699),a=r(55946);let i=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...r}){return(0,t.jsx)("div",{className:(0,a.cn)(i({variant:s}),e),...r})}}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[638,5116,1638,8529,8067,7600,9012],()=>r(64300));module.exports=t})();